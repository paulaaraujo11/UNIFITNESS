/*! Copyright © 2015, 2016, Oracle and/or its affiliates. All rights reserved. */
/*! mmpackage v1.9 */
/*! jQuery v1.11.2 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
/*v1.9.20.8754*/
'use strict';(function(){function ca(q,Y,Z){ca=void 0;eval(q)}var q=window.console||{log:function(){},error:function(){}};(function(){function V(a,e,k){var m=[],z;for(z in a)a.hasOwnProperty(z)&&(k?m=m.concat(e(a[z])):m.push(e(a[z])));return m}function Y(a,e){var k=[],m;for(m in a)a.hasOwnProperty(m)&&e(a[m])&&k.push(a[m]);return k}function Z(a,e){var k=void 0,m;for(m in a)if(a.hasOwnProperty(m)&&!0===e(a[m])){k=a[m];break}return k}function da(a,e){if(H(e))return!!Z(a,e);for(var k=a.length;k--;)if(a[k]===e)return!0;
return!1}function W(a,e,k){k=k||0;for(var m=a.length;k<m;k++)if(a[k]===e||H(e)&&e(a[k]))return k;return-1}function H(a){return"function"===typeof a}function P(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)}function F(a){return"string"===typeof a}function G(a){return"undefined"===typeof a}function R(a){return"number"===typeof a}function aa(a){if(null===a||"object"!==typeof a)return a;var e=a.constructor(),k;for(k in a)a.hasOwnProperty(k)&&(e[k]=aa(a[k]));
return e}function T(a,e){a=G(a)?{}:a;e=G(e)?{}:e;if(null===e||"object"!==typeof e)return e;var k={},m;if("object"===typeof a)for(m in a)a.hasOwnProperty(m)&&(k[m]=a[m]);for(m in e)e.hasOwnProperty(m)&&(k[m]?P(k[m])&&P(e[m])?k[m]=k[m].concat(e[m]):k[m]=T(k[m],e[m]):k[m]=e[m]);return k}function I(a){return G(a)||null==a?!0:1>a.replace(/\s/g,"").length}function ga(a){return a="mm_style"+(a?"_"+a:"")+("_"+ha++)}function K(a){return a.replace(/^\s+|\s+$/gm,"")}function A(){var a=arguments,e={},k=1;F(a[1])||
(e=a[1],k=2);for(var m=a[0],a=P(a[2])?a[2]:M(a,k),k=0;k<a.length;k++)e[a[k]]=function(a){return function(){return a.apply(e,arguments)}}(m[a[k]]);return e}function ba(){function a(a){var k,m="";for(k=0;k<a;k++)m+=(16*Math.random()%16|0).toString(16);return m}return a(8)+"-"+a(4)+"-4"+a(3)+"-"+a(4)+"-"+a(12)}function O(a,e){for(var k in a)a.hasOwnProperty(k)&&e(a[k],k)}function ia(a){return function(){try{a()}catch(e){q.log(e.message||e)}}}function ea(a){var e=a.getAttribute("href");return{hrefHasJS:/(^| )javascript:/i.test(e),
sameSite:a.hostname===window.location.hostname,notRequiresReload:"_blank"===a.target||/^#|(^| )javascript: ?void/i.test(e)}}function fa(a){for(;a&&"a"!==a.tagName.toLowerCase();)a=a.parentElement;return a}function M(a,e,k){k=G(k)?a.length:k;e=e||0;if(P(a))return Array.prototype.slice.call(a,e,k);var m=[],z=(k||0)-e;if(0<z)for(m=Array(z),k=0;k<z;k++)m[k]=a[e+k];return m}function ja(){return function(){}}function N(a){a=a||{};var e="";G(a.opacity)||(a.filter="alpha(opacity="+100*a.opacity+")");O(a,
function(a,m){e+=m+": "+a+" !important; "});return K(e)}function ka(a,e,k){function m(b){if(!h[b]){var c=e[b],d={};try{c(d,z.requireClass,z.require),d.exports=z.options.isDlpEnabled?d.dlp||d.exports:d.basic||d.exports}catch(a){q.log("ERROR: "+a.message+" in module "+b)}f[b]&&(d.exports=d.exports.extend(f[b]));h[b]=d}return h[b]}var z=this,h,l,f;z.options=k||{};f=z.options.moduleExtensions||{};this.reset=function(b){h={};l=b||{}};z.reset(a);this.require=function(b,c){m(b);var d=h[b];return d&&d.config&&
d.config.singleton?(l[b]||(l[b]=new d.exports(z.options)),l[b]):new d.exports(c)};this.requireClass=function(b){m(b);return h[b].exports};this.addModule=function(b,c){e[b]=c}}var la=ca,ha=1,ma={CGApi:function(a,e,k){a.config={singleton:!0};a.exports=function(){function a(b,c,d,p){var g=f.getParam("uv",p)||{};b=K(b);g[b]=g[b]||[];if(void 0===c)c=1;else if(""===c||isNaN(c))c=0,d="NaN";g[b].push(c+(d?","+encodeURIComponent(d):""));f.setParam("uv",g,p)}function e(b,c,d,a){var g=f.getParam("uat",d)||{};
g[K(b)]=K(c+"");f.setParam("uat",g,d,a)}function h(b,c){var d=f.getParam("rul",c)||[],a=V(b,function(b){return encodeURIComponent(b||"")}).join(",")+";";d.push(a);f.setParam("rul",d,c)}function l(b,c,d,a){var g=f.getParam("ids",d)||{};g[b+""]=c+"";f.setParam("ids",g,d,a)}var f=k("Engine");this.setAction=function(b,c,d){a(b,c,d,f.storeStrategy.request)};this.postAction=function(b,c,d){a(b,c,d,f.storeStrategy.deferredRequest)};this.setAttr=function(b,c){e(b,c,f.storeStrategy.request)};this.storeAttr=
function(b,c,d){e(b,c,f.storeStrategy.persistent,d)};this.getAttr=function(b){return(f.getParam("uat",f.storeStrategy.persistent)||{})[K(b)]};this.removeAttr=function(b){var c=f.getParam("uat",f.storeStrategy.persistent)||{};delete c[K(b)];f.setParam("uat",c,f.storeStrategy.persistent,365)};this.setId=function(b,c){l(b,c,f.storeStrategy.request)};this.storeId=function(b,c,d){l(b,c,f.storeStrategy.persistent,d)};this.removeId=function(b){var c=f.getParam("ids",f.storeStrategy.persistent)||{};delete c[b+
""];f.setParam("ids",c,f.storeStrategy.persistent,365)};this.hasActions=function(){var b=f.getParam("uv",f.storeStrategy.request)||{},c=f.getParam("uv",f.storeStrategy.deferredRequest)||{};return b&&"{}"!==JSON.stringify(b)||c&&"{}"!==JSON.stringify(c)};this.request=function(b,c){f.setParam("pageid",b,f.storeStrategy.request);f.CGRequest(c)};this.setData=function(b,c,d){f.setData(b,c,d)};this.getData=function(b){return f.getData(b)};this.clearData=function(b){f.clearData(b)};this.getServerAttrs=function(){return f.getServerAttrs()};
this.setCategoryFilter=function(b,c,d){h({categoryId:b,categoryName:c,including:d?1:0},f.storeStrategy.request)};this.setProductFilter=function(b,c,d){h({categoryId:b,productId:c,including:d?1:0,isProduct:1},f.storeStrategy.request)}}},Class:function(a,e,k){e=function(){};e.extend=function(a){var e=function(){e.superclass.constructor.apply(this,arguments);var h={};O(this,function(f,b){h[b]=f});this.base=h;return a.apply(this,arguments)},h=function(){};h.prototype=this.prototype;e.prototype=new h;
e.prototype.constructor=e;e.superclass=this.prototype;e.implementation=a;e.extend=this.extend;e.inherit=this.inherit;return e};e.inherit=function(a){(a.implementation||a).call(this.prototype)};a.exports=e},Cookies:function(a,e,k){a.config={singleton:!0};a.exports=function(a){var e=this,h=a.cookieDomain,l=a.isBaseStorageSecure,f=encodeURIComponent,b=decodeURIComponent;this.set=function(b,d,a){if(!b||!F(b))return q.error("You can't use cookies.set without specifying cookie name."),this;a=a||{};a.secure=
G(a.secure)?l:a.secure;var g=";domain="+(a.domain||h),e=";path="+(a.path||"/"),m;if(a.expires){m=a.expires;var k=new Date;k.setTime(k.getTime()+864E5*m);m=";expires="+k.toGMTString()}else m="";a=a.secure?";secure":"";document.cookie=f(b)+"="+f(d)+g+e+m+a;return this};this.remove=function(b,a){if(!b||!F(b))return q.error("You can't use cookies.remove without specifying cookie name."),this;a||(a={});a.expires=-1;"undefined"!=typeof this.get(b)&&this.set(b,"",a);return this};this.get=function(c){if(!c||
!F(c))return q.error("You can't use cookies.get without specifying cookie name."),this;c=new RegExp("(?:^|; )"+f(c).replace(/([.$?*|{}()\[\]\\\/+^])/g,"\\$1")+"=([^;]+)");return(c=(document.cookie.match(c)||[,""])[1])?b(c):void 0};this.getWrapper=function(){return A(e,"get","set","remove")}}},Events:function(a,e,k){a.config={singleton:!1};var m=e("Class").extend(function(){function a(b,f){var h=b.split("."),g;if(1===h.length)g=h[0];else if(2===h.length){g=h[0];if(0===g.length||-1!==g.indexOf("*"))return!1;
g=h[1]}else return!1;if(!g.length)return!1;if(-1!==g.indexOf("*"))if(f){if("*"!==g)return!1}else return!1;return h}function h(c,a,h,g){b[c]={event_data:a,callback:!0===g?h:void 0};if(f[c]){c=f[c];for(g=0;g<c.length;g++)c[g].call(l,a);H(h)&&h()}}var l=this,f={},b={};this.on=function(c,d,h){if(!F(c))return q.log("eventName is incorrect"),this;if(!a(c,!0))return q.error("'"+c+"' is incorrect for On"),this;if(h&&(h=b[c])){try{d.apply(l,h.event_data)}catch(g){}h.callback&&h.callback()}f[c]=f[c]||[];f[c].push(d);
return this};this.off=function(b,a){if(!F(b))return q.log("eventName is incorrect"),this;f[b]=f[b]||[];for(var h=f[b].length;h--;)a==f[b][h]&&f[b].splice(h,1);return this};this.trigger=function(b,f,l,g){if(!F(b))return q.log("eventName is incorrect"),this;var m=a(b,!1);if(!m)return q.error("'"+b+"' is incorrect for Trigger"),this;h(b,f,l,g);2==m.length&&h(m[0]+".*",f,l,g);return this};this.getWrapper=function(){return A(l,{},"on","off","trigger")}});e=m.extend(function(){var a=this;this.domReady=
function(){var a=!1,l=[],f=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",b,!1),window.removeEventListener("load",b,!1)):(document.detachEvent("onreadystatechange",b),window.detachEvent("onload",b))},b=function(){if(document.addEventListener||"load"===event.type||"complete"===document.readyState)f(),c()},c=function(){if(!a){if(!document.body)return setTimeout(c);a=!0;for(var b=0;b<l.length;b++)try{(0,l[b])()}catch(f){q.log(f)}}};if("complete"===document.readyState)c();
else if(document.addEventListener)document.addEventListener("DOMContentLoaded",b,!1),window.addEventListener("load",b,!1);else{document.attachEvent("onreadystatechange",b);window.attachEvent("onload",b);var d=!1;try{d=null==window.frameElement&&document.documentElement}catch(m){}d&&d.doScroll&&function t(){if(!a){try{d.doScroll("left")}catch(b){return setTimeout(t,50)}f();c()}}()}return function(b){b=b||function(){};if(a){try{b()}catch(c){q.log(c)}return!0}l.push(b);return!1}}();this.getWrapper=function(){return A(a,
a.base.getWrapper(),"domReady")}});m=m.extend(function(){var a=this,h=k("Dlp");this.domReady=function(a){return h.parentReady(a)};this.getWrapper=function(){return A(a,a.base.getWrapper(),"domReady")}});a.basic=e;a.dlp=m},Deferred:function(a,e,k){function m(a,l){a=a||{};for(var f in l)l.hasOwnProperty(f)&&(a[f]="object"===typeof l[f]?m(a[f],l[f]):l[f]);return a}function z(a){for(var l=[["resolve","done",[],"resolved"],["reject","fail",[],"rejected"],["notify","progress",[]]],f="pending",b={state:function(){return f},
always:function(){c.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return z(function(f){for(var d=0;d<l.length;d++)(function(a,d){c[l[a][1]](function(){var r=H(d[a])&&d[a].apply(this,arguments);if(r&&H(r.promise))r.promise().done(f.resolve).fail(f.reject).progress(f.notify);else f[l[a][0]+"With"](this===b?f.promise():this,d[a]?[r]:arguments)})})(d,a);a=null}).promise()},promise:function(a){return null!=a?m(a,b):b}},c={},d,e,g=0;g<l.length;g++)(function(a){var g=l[a],
h=g[2];b[g[1]]=function(){for(var a=0;a<arguments.length;a++)(function(a){H(a)?f===g[3]?a.apply(d,e):h.push(a):a&&a.length&&"string"!==typeof a&&b[g[1]].apply(this,a)})(arguments[a]);return this};c[g[0]]=function(){c[g[0]+"With"](this===c?b:this,arguments);return this};c[g[0]+"With"]=function(b,a){if("pending"==f)for(d=b,e=a,g[3]&&(f=g[3]);h.length;)h.shift().apply(b,a);return this}})(g);b.promise(c);a&&a.call(c,c);return c}a.exports=z},When:function(a,e,k){var m=e("Deferred");a.exports=function(){var a=
0,h=H(arguments[0]),l=h?[m()]:arguments,f=Array.prototype.slice.call(l),b=f.length,c=1!==b||l[0]&&H(l[0].promise)?b:0,d=1===c?l[0]:m(),e=function(b,a,f){return function(r){a[b]=this;f[b]=1<arguments.length?Array.prototype.slice.call(arguments):r;f===g?d.notifyWith(a,f):--c||d.resolveWith(a,f)}},g,k,L;if(h)l=arguments,L=setInterval(function(){l[0]()?d.resolve():l[1]&&H(l[1])&&l[1]()&&d.reject()},50),d.always(function(){clearInterval(L)});else if(1<b)for(g=Array(b),h=Array(b),k=Array(b);a<b;a++)f[a]&&
H(f[a].promise)?f[a].promise().done(e(a,k,f)).fail(d.reject).progress(e(a,h,g)):--c;c||d.resolveWith(k,f);return d.promise()}},Renderer:function(a,e,k){a.config={singleton:!1};var m=0,z=0,h=e("Class").extend(function(a){function b(){J&&(clearTimeout(J),J=null);R(r)&&(J=setTimeout(function(){d.showAll()},r))}function c(r){if(r=(r?(r.Name||r)+"":"").toLowerCase()){var b=(a.getElement(r)||{}).Data;if(b)for(var J="",c="",d=0;d<b.length;d++)"Css"===b[d].Type?J=b[d].Data:"Html"===b[d].Type&&""!==K(b[d].Data)?
c=b[d].Data:"Script"===b[d].Type&&(L.runElementScript(a,r,{html:c,css:J},b[d].Data),c=J="")}else q.log("renderElement should receive element or elementName")}var d=this,h=e("When"),g=e("Deferred"),l=k("CGApi"),L=k("Engine"),x=k("Dom"),n={},C=z++,r=7E3,J;this.hide=function(r,a){if(!r)return q.log("You can't use renderer.hide without params"),this;-1===r.indexOf("{")&&(r+="{position:relative;left:-10000px;top:-10000px;}");a=(a||"gen_"+m++)+"_"+C;n[a]=!0;x.addCss(r,a);b();return this};this.show=function(r){if(!r)return q.log("You can't use renderer.show without params"),
this;var b=r+"_"+C;if(!n[b])return q.log("ID ("+r+") you try to show is not found"),this;delete n[b];x.removeCss(b);return this};this.showAll=function(){var r=[];O(n,function(b,a){r.push(a)});x.removeMultiCss(r);n={};J&&(clearTimeout(J),J=null);return this};this.unhideAfter=function(a){"never"===a||R(a)&&0<=a?(r=a,b()):q.log('You can use renderer.unhideAfter with number greater 0 or "never" string only.');return this};this.getContent=function(r){var b=g();l.request(r||a.getName(),function(r){r?b.resolve():
b.reject()});return b.promise()};this.runVariantJs=function(r){if(0<arguments.length)c(r);else for(var b=a.getElements(),J=0;J<b.length;J++)c(b[J]);return this};this.waitUntilDom=function(r){return h(r,L.events.domReady)};this.when=function(){return h.apply(d,arguments)}}),l=h.extend(function(a){var b=e("When"),c=k("Engine");this.waitForElement=function(a){return b(function(){return null!=document.querySelector(a)},c.events.domReady)}}),h=h.extend(function(a){var b=e("When"),c=e("Deferred"),d=k("Engine"),
h=k("Dlp");this.waitForElement=function(a){var f=new c,l=!1,e=function(b){l=b};b(function(){h.checkNodeExist(a).done(e);return l},d.events.domReady).done(function(){f.resolve()}).fail(function(){h.checkNodeExist(a).done(e).then(function(b){b?f.resolve():f.reject()},function(){f.reject()})});return f.promise()}});a.dlp=h;a.basic=l},Campaign:function(a,e,k){var m=e("Element");a.exports=function(a){function h(b){return function(a){return a.Name===b}}var l=this,f=k("Site"),b=a.Name,c=k("BaseStorage",
{namespace:b}),d={},e=V(a.Elements,function(b){return new m(b)}),g=a.Recommendations;this.updateData=function(b){for(var a=0;a<b.Elements.length;a++){var c=W(e,h(b.Elements[a].Name));0<=c?e[c]=new m(b.Elements[a]):e.push(new m(b.Elements[a]))}g=b.Recommendations};this.getElements=function(){return e};this.getRecommendations=function(){return g};this.getExperience=function(){var a=f.getPageExperiences()[b],c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);return c};this.getElement=function(b){b||
q.log("You can't use campaign.getElement without params");b=b.toLowerCase();return Z(e,h(b))||null};this.getStyles=function(b){return V(e,function(a){return a.getStyles(b)},!0)};this.isDefault=function(){if(!e||0==e.length)throw Error("There is no content for campaign "+b+".");for(var a=!0,c=0;c<e.length;c++)a=a&&"Default"===e[c].VariantName;return a};this.getName=function(){return b};this.setData=function(b,a,f){c.set(b,a,f)};this.getData=function(b){return c.get(b)};this.clearData=function(b){c.set(b,
null,-1)};this.events=k("Events");this.getContext=function(){var b={};b.scope=d;b.isDefault=function(){return l.isDefault()};b.getElements=function(){for(var b={},a=0;a<e.length;a++)b[e[a].Name]=e[a].clone();return b};b.getElement=function(b){return(b=l.getElement(b))?b.clone():b};b.getRecommendations=function(){return V(g,aa)};b.getStyles=function(b){return l.getStyles(b)};b.getExperience=function(){return l.getExperience()};b.getName=function(){return l.getName()};b.events=l.events;b.setData=function(b,
a,c){return l.setData(b,a,c)};b.getData=function(b){return l.getData(b)};b.clearData=function(b){return l.clearData(b)};return b}}},Element:function(a,e,k){function m(a){var h=this;h.Name=a.Name;h.HTMLId=a.HTMLId;h.Order=a.Order;h.VariantName=a.VariantName;h.Data=aa(a.Data);this.getStyles=function(a){return V(Y(h.Data,function(f){return"Css"===f.Type&&(G(a)||f.Attrs.id===a)}),function(a){return a.Data})};this.clone=function(){return new m(h)}}a.exports=m},Site:function(a,e,k){a.config={singleton:!0};
a.exports=function(){var a=this,e={},h={};this.getPageExperiences=function(){var a,f,b={};for(a in h)if(h.hasOwnProperty(a))for(f in b[a]={},h[a])h[a].hasOwnProperty(f)&&(b[a][f]=h[a][f]);return b};this.setPageExperiences=function(a){var f,b,c;for(c in a)if(a.hasOwnProperty(c)){f=a[c];b=h[c];"undefined"===typeof b&&(h[c]={},b=h[c]);for(var d in f)f.hasOwnProperty(d)&&(b[d]=f[d])}return h};this.getContext=function(){var h={};h.scope=e;h.getPageExperiences=a.getPageExperiences;return h}}},Style:function(a,
e,k){a.config={singleton:!0};e=e("Class").extend(function(){function a(){var b="";O(f,function(a){b+=a});return b}var e=this,h=document,l=h.createElement("style");l.type="text/css";l.media="screen";e.htmlId=l.id=ga("mm_cdApiStyleId");var f={},h=h.getElementsByTagName("head")[0];h.insertBefore(l,h.lastChild);this.set=function(b){l&&(l.styleSheet?l.styleSheet.cssText=b:l.innerHTML=b)};this.add=function(b,c){if(c){if(f[c]){q.error("Style with specified ID("+c+") already exists");return}f[c]=b}else f.nr=
f.nr||"",f.nr+=b;e.set(a())};this.remove=function(){O(M(arguments),function(b){"nr"!==b&&f[b]?delete f[b]:q.error("Could not remove non-existent style "+b+".")});e.set(a())};this.clear=function(){f={};e.set(a())}});a.exports=e},Action:function(a,e,k){a.config={singleton:!0};var m=e("Class").extend(function(){var a=this,h=k("CGApi"),m=e("Deferred");this.sendActions=function(f,b,c){for(var d=!0,h,g,e,m,l=0;l<f.length;l++)m=f[l].name,e=f[l].value,g=f[l].attribute,d&=h=f[l].postponedAction,h?a.postpone(m,
e,g):a.set(m,e,g);!d||b?a.send().then(c):c()};this.send=function(a,b,c){var d=m();if(0<arguments.length&&a&&F(a))h.setAction(a,b,c);else if(0!==arguments.length){q.log("You can't use action.send without setting action name");return}h.hasActions()?h.request("mmevents",function(b){b?d.resolve():d.reject()}):d.resolve();return d.promise()};this.postpone=function(a,b,c){if(!a||!F(a))return q.log("You can't use action.postpone without setting action name."),this;h.postAction(a,b,c);return this};this.set=
function(a,b,c){if(!a||!F(a))return q.log("You can't use action.set without setting action name."),this;h.setAction(a,b,c);return this};this.trackClicks=function(f,b,c){k("Dom").trackClicks(f,b,c,a.sendActions)};this.getWrapper=function(){return A(a,"send","postpone","set","trackClicks")}});a.exports=m},Visitor:function(a,e,k){a.config={singleton:!0};var m=e("Class").extend(function(){var a=this,m=e("Deferred"),f=k("CGApi");this.setAttr=function(a,c){f.setAttr(a,c);return this};this.storeAttr=function(a,
c){f.storeAttr(a,c,365);return this};this.getAttr=function(a){return f.getAttr(a)};this.removeAttr=function(a){f.removeAttr(a);return this};this.setId=function(a,c){f.setId(a,c);return this};this.storeId=function(a,c){f.storeId(a,c,365);return this};this.removeId=function(a){f.removeId(a);return this};this.setData=function(a,c,d){f.setData(a,c,d);return this};this.getData=function(a){return f.getData(a)};this.clearData=function(a){return f.clearData(a)};this.requestPage=function(a){var c=m();f.request(a,
function(a){a?c.resolve():c.reject()});return c.promise()};this.getServerAttrs=function(){return aa(f.getServerAttrs())};this.getWrapper=function(){return A(a,"setAttr","storeAttr","getAttr","removeAttr","setId","storeId","removeId","setData","getData","clearData","requestPage","getServerAttrs")}}),z=m.extend(function(){var a=this;this.navigateTo=function(a){!F(a)||I(a)?q.log("CD API Visitor Module: You should pass targetUrl as a non-empty String to visitor.navigateTo()."):(H(window.stop)?window.stop():
document.execCommand("Stop"),window.location.assign(a))};this.getWrapper=function(){return A(a,a.base.getWrapper(),"navigateTo")}}),m=m.extend(function(){var a=this,e=k("Dlp");this.navigateTo=function(a){!F(a)||I(a)?q.log("CD API Visitor Module: You should pass targetUrl as a non-empty String to visitor.navigateTo()."):e.navigateTo(a)};this.getWrapper=function(){return A(a,a.base.getWrapper(),"navigateTo")}});a.basic=z;a.dlp=m},Dom:function(a,e,k){a.config={singleton:!0};var m=e("Class").extend(function(){function a(r,
J,c){return function(){var a=p.getElements(J[0]);if(a.length)return J[0]=a,r.apply(b,J),c(),!0}}function m(){q=setInterval(function(){for(var a=0;a<z.length;a++)z[a]()&&(z.splice(a,1),--a);z.length||clearInterval(q)},200);d.registerLoop(q)}function f(a,b){if(b&&!d.isVcbActive){var c=p.autoHide(a);return function(){p.removeCss(c)}}return ja()}var b=this,c=e("Deferred"),d=k("Vcb"),p=k("DomPlain"),g=[],z=[],q,x="hide resize freeMove changeStyle guidedMove remove bringToFront changeLinkUrl insertImageBannerBelow insertImageBannerAbove insertImageBannerWithin changeImageBanner editHtml insertHtmlAbove insertHtmlBelow insertHtmlWithin".split(" "),
n=["addCss","removeCss"],C=["addListener","removeListener","getNodesAttribute","setNodesAttribute"];this.loop=function(r,c){return function(){var d=arguments[0],g=M(arguments),e=p.getElements(d);e.length?(g[0]=e,r.apply(b,g)):F(d)&&(d=f(d,!c),z.length||m(),z.push(a(r,g,d)))}};(function(a,c,d){c=c||{};O(d,function(d){c[d]=b.loop(a[d])})})(p,b,x);A(p,b,n);this.addListener=function(a,b,c){a=p.getElements(a);for(var d=0;d<a.length;d++){var f=p.addEvent(a[d],b,c);g.push({handler:c,handlerWrapper:f})}};
this.removeListener=function(a,b,c){a=p.getElements(a);for(var d=0;d<a.length;d++)for(var f=0;f<g.length;f++)g[f].handler===c&&p.removeEvent(a[d],b,g[f].handlerWrapper)};this.trackClicks=b.loop(p.trackClicks,!0);this.removeMultiCss=p.removeMultiCss;this.getNodesAttribute=function(){var a=M(arguments);a[0]=p.getElements(a[0]);var b=new c;b.resolve(p.getNodesAttribute.apply(p,a));return b.promise()};this.setNodesAttribute=function(){var a=M(arguments);a[0]=p.getElements(a[0]);p.setNodesAttribute.apply(p,
a)};this.getWrapper=function(){var a=A(b,{},C);A(b,a,x);A(p,a,n);return a}}),z=e("Class").extend(function(){var a=this,e=k("Dlp"),f="addCss removeCss hide resize freeMove changeStyle guidedMove remove bringToFront changeLinkUrl insertImageBannerBelow insertImageBannerAbove insertImageBannerWithin changeImageBanner editHtml setNodesAttribute insertHtmlAbove insertHtmlBelow insertHtmlWithin".split(" "),b=["getNodesAttribute"],c=["addListener","removeListener"];this.addListener=function(a,b,c){e.addListener(a,
b,c)};this.removeListener=function(a,b,c){e.removeListener(a,b,c)};O(f,function(b){a[b]=e.proxy("Dom",b)});O(b,function(b){a[b]=e.proxy("Dom",b,!0)});this.trackClicks=function(a,b,c,f){e.trackClicks(a,b,c,f)};this.removeMultiCss=e.proxy("Dom","removeMultiCss");this.getWrapper=function(){var d=A(a,{},f);A(a,d,b);A(a,d,c);return d}});a.basic=m;a.dlp=z},DomPlain:function(a,e,k){a.config={singleton:!0};e=e("Class").extend(function(){function a(b,c){return window.getComputedStyle?window.getComputedStyle(b,
null)[c]:b.currentStyle?b.currentStyle[c]:b.style[c]}function e(a,b,c){R(c)?b[c]&&a.push(b[c]):a=a.concat(M(b));return a}function h(a,b){return(a.matches||a.matchesSelector||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector).call(a,b)}function l(a,b){for(var c=a.split(":eq("),d=[],f,g,m,l,k=0;k<c.length;k++){l=/^(?:\d+\))?\s*(>)?(\+)?\s*(.+)?/.exec(c[k]);f=l[3];if(!f)break;l=l[1]?"direct":l[2]?"next":"querySelector";for(m=(g=c[k+1]&&/^(\d+)\)(.+)?/.exec(c[k+1]))?g[1]:null;"querySelector"!==
l;)g=f.match(/([^ >]+)( \d+)?\s*(>?)(\+?)\s*(.*)/),f=g[5],d.push({selector:g[2]?g[1]+g[2]:g[1],findingType:l}),l=g[3]?"direct":g[4]?"next":"querySelector";f&&d.push({selector:f,findingType:l});m&&(d[d.length-1].index=parseInt(m,10))}c=P(b)?b:[b];for(f=0;f<d.length;f++){k=[];if("querySelector"===d[f].findingType)for(l=0;l<c.length;l++){g=d[f].index;m=[];for(var C=c[l].querySelectorAll(d[f].selector),p=0;p<C.length;p++)n.useZindex(C[p])&&m.push(C[p]);k=e(k,m,g)}else if("direct"===d[f].findingType)for(m=
0;m<c.length;m++){if(g=[],l=c[m].children){for(C=0;C<l.length;C++)1===l[C].nodeType&&h(l[C],d[f].selector)&&g.push(l[C]);k=e(k,g,d[f].index)}}else if("next"===d[f].findingType)for(g=0;g<c.length;g++)(l=c[g].nextSibling)&&1===l.nodeType&&h(l,d[f].selector)&&(k=e(k,[l],d[f].index));c=k}return M(c)}function f(a,b){var c=[],d=Object.prototype.toString.call(a);if(F(a)){for(var c=b||document,d=a.split(","),f=[],g=0;g<d.length;g++)d[g]=d[g].replace(/^\s+/g,"").replace(/\s+$/g,""),d[g]&&(f=f.concat(l(d[g],
c)));c=f}else"[object Array]"===d||"[object NodeList]"===d||"[object HTMLCollection]"===d?c=M(a):c[0]=a;return c}function b(a){return a.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<title\b[^<]*(?:(?!<\/title>)<[^<]*)*<\/title>/gi,"").replace(/<link\b[^<]*>/gi,"").replace(/<meta\b[^<]*>/gi,"")}function c(a,b){for(var c=(a.style.cssText.replace(/[^;]$/,"$0;")+b).split(";"),d={},f=0;f<c.length;f++)if(c[f]){var g=c[f].split(":");d[g[0].replace(/\s/g,"")]=g[2]?g[1]+":"+g[2]:
g[1]}var c="",e;for(e in d)d.hasOwnProperty(e)&&(c+=e+":"+d[e]+"; ");x.setCssText(a,c.replace(/\s$/,""))}function d(b,d,f){var g=a(b,"position");d=d?parseInt(d,10):0;f=f?parseInt(f,10):0;if("relative"===g||"absolute"===g||"fixed"===g){var e=a(b,"left"),h=a(b,"right");"auto"===e&&"auto"!==h?d="right: "+(parseInt(h,10)-d)+"px !important; ":("auto"===e?e=d:"relative"===a(b,"position")?e=parseInt(e,10)+d:(e=parseInt(b.offsetLeft,10)+d,d=a(b,"margin-left"),"auto"!==d&&(e-=parseInt(d,10))),d="left: "+e+
"px !important; ");e=a(b,"top");h=a(b,"bottom");"auto"===e&&"auto"!==h?f="bottom: "+(parseInt(h,10)-f)+"px !important; ":("auto"===e?e=f:"relative"===a(b,"position")?e=parseInt(e,10)+f:(e=parseInt(b.offsetTop,10)+f,f=a(b,"margin-top"),"auto"!==f&&(e-=parseInt(f,10))),f="top: "+e+"px !important; ")}else g="relative",d="left: "+d+"px !important; ",f="top: "+f+"px !important; ";c(b,d+f+("position: "+g+" !important;"))}function p(a,c){G(c.imageUrl)||"img"!==a.tagName.toLowerCase()||(a.style.visibility=
"hidden",a.src=c.imageUrl,x.addEvent(a,"load",function(){a.style.visibility=""}));G(c.imageAlt)||a.setAttribute("alt",b(c.imageAlt));G(c.imageTitle)||a.setAttribute("title",b(c.imageTitle))}function g(a){var b,c;b=document.createElement("img");p(b,a);void 0!==a.linkUrl&&(c=document.createElement("a"),c.setAttribute("href",a.linkUrl),c.appendChild(b));return c||b}function t(a,b){return function(){for(var c=b&&[],d=M(arguments),e=f(d[0]),g=0;g<e.length;g++)if(e[g]&&e[g].tagName){d[0]=e[g];var h=a.apply(x,
d);b&&c.push(h)}return c}}function L(a,b){var c=fa(b),d=void 0;if(c){var f=ea(c);if(!f.sameSite){a.originalPreventDefault=a.originalPreventDefault||a.preventDefault;a.preventedByClientsCode=a.preventedByClientsCode||a.defaultPrevented&&!a.preventedByCdApiCode;a.preventDefault=function(){a.preventedByClientsCode=!0;a.originalPreventDefault()};a.originalPreventDefault();a.preventedByCdApiCode=!0;var e=!1,d=function(){e||a.preventedByClientsCode||(f.hrefHasJS?(new Function(c.getAttribute("href"))).call(window):
window.location.assign(c.href),e=!0)};setTimeout(d,2E3)}}return d}var x=this,n=k("Vcb"),C=k("Style");this.setCssText=function(a,b){a.style.cssText=b};this.addCss=function(a,b){if(!P(a)&&!F(a))return q.log("You try call dom.addCss with wrong arguments."),this;0===a.length&&q.log("WARNING: You add empty css.");a.join&&(a=a.join("\n"));C.add(a,b);return this};this.removeCss=function(a){if(!a)return q.log("You can't use dom.removeCss without params"),this;C.remove(a);return this};this.removeMultiCss=
function(a){C.remove.apply(C,a);return this};this.getStyle=a;this.getElements=f;this.updateElementStyle=t(c);this.addEvent=function(a,b,c){var d=function(b){b=b||window.event;!b.target&&b.srcElement&&(b.target=b.srcElement);return c.call(a,b)};a.addEventListener?a.addEventListener(b,d,!1):a.attachEvent&&a.attachEvent("on"+b,d);return d};this.removeEvent=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent&&a.detachEvent("on"+b,c)};this.addClass=function(a,b){b=K(b);var c=
K(a.getAttribute("class")||"");~c.indexOf(b)||a.setAttribute("class",K(c?c+" "+b:b))};this.hide=t(function(a){c(a,"visibility: hidden !important;")});this.show=t(function(a){c(a,"visibility: visible !important;")});this.resize=t(function(a,b,f,e,g){b=parseInt(b,10);f=parseInt(f,10);c(a,"width: "+b+"px !important; height: "+f+"px !important;");(e||g)&&d(a,e,g)});this.freeMove=t(d);this.changeStyle=t(c);this.guidedMove=t(function(a,b){if(0<=b){var c=a.parentElement;c.removeChild(a);var d=c.children;
b<d.length?c.insertBefore(a,d[b]):c.appendChild(a)}});this.remove=t(function(a){var b=a.parentElement;b&&b.removeChild(a)});this.bringToFront=t(function(b,d){if("undefined"===typeof d){for(var f=0,e=0,g=document.querySelectorAll("*"),h=g.length,l=0;l<h;l++)if(f=parseInt(a(g[l],"z-index"),10),!isNaN(f)&&e<f&&n.useZindex(g[l])&&(e=f),n.isVcbActive&&e>=n.maxZindex){e=n.maxZindex-11;break}d=e+10}f=a(b,"position");c(b,"z-index: "+d+" !important; position: "+("static"===f||"auto"===f?"relative":f)+" !important;")});
this.changeLinkUrl=function(a,b){x.setNodesAttribute(a,"href",b)};this.insertImageBannerAbove=t(function(a,b){var c=g(b);a.parentElement.insertBefore(c,a)});this.insertImageBannerBelow=t(function(a,b){var c=g(b);a.parentElement.insertBefore(c,a.nextSibling)});this.insertImageBannerWithin=t(function(a,b){var c=g(b);a.appendChild(c)});this.changeImageBanner=t(function(a,b){if("a"===a.tagName.toLowerCase()){void 0!==b.linkUrl&&a.setAttribute("href",b.linkUrl);for(var c=a.children,d=0;d<c.length;d++)"img"===
c[d].tagName.toLowerCase()&&p(c[d],b)}else"img"===a.tagName.toLowerCase()&&(p(a,b),void 0!==b.linkUrl&&"a"===a.parentElement.tagName.toLowerCase()&&a.parentElement.setAttribute("href",b.linkUrl))});this.editHtml=t(function(a,c){a.innerHTML=b(c)});this.setNodesAttribute=t(function(a,b,c){a.setAttribute(b,c)});this.getNodesAttribute=t(function(a,b){return a.getAttribute(b)},!0);this.insertHtmlAbove=t(function(a,c){var d=document.createElement("div");a.parentElement.insertBefore(d,a);d.outerHTML=b(c)});
this.insertHtmlBelow=t(function(a,c){var d=document.createElement("div");a.parentElement.insertBefore(d,a.nextSibling);d.outerHTML=b(c)});this.insertHtmlWithin=t(function(a,c){var d=document.createElement("div");a.appendChild(d);d.outerHTML=b(c)});this.autoHide=function(a){a=a.replace(/:eq\(\d*\)/gmi,"");var b=ba();x.addCss(a+"{visibility: hidden;}",b);return b};this.trackClicks=t(function(a,b,c,d){function f(){return[b.name,b.value,b.attribute,b.postponedAction]}n.isVcbActive?n.registerClickAction(a,
b,c):(a["data-mm-events-ref"]||(a["data-mm-events-ref"]={lockFuncs:[]},x.addEvent(a,"click",function(a){for(var b=this["data-mm-events-ref"].lockFuncs,c=[],f=0;f<b.length;f++){var e=b[f]();if(e){var g=e[0],r;r=g;var h=a;r=h.target===this?!1:F(h.data)&&da(h.data.split(","),r);r||(c.push({name:g,value:e[1],attribute:e[2],postponedAction:G(e[3])?!0:e[3]}),e=a.data&&F(a.data)?a.data.split(","):[],da(e,g)||(e.push(g),a.data=e.join()))}}if(c.length){var f=fa(this),b=!1,n;if(f){if(!(n=ea(f)).sameSite||n.notRequiresReload)b=
!0}else n=this.nodeName.toLowerCase(),f=this.getAttribute("type"),("input"===n||"button"===n)&&f&&"submit"===f.toLowerCase()||(b=!0);d(c,b,L(a,this))}})),a["data-mm-events-ref"].lockFuncs.push(f))})});a.exports=e},BaseWidget:function(a,e,k){a.config={singleton:!1};e=e("Class").extend(function(a){function e(a,b){for(;a&&a.parentNode;)if(a=a.parentNode,a===b)return!0;return!1}function h(){function a(c){return!c||!R(c.displayedCount)||c.displayedCount>=b.showsCount?1:c.displayedCount+1}var b=g.options.showFrequency;
if(!0!==b.always){var c=new Date,d=g.getWidgetData(),f=d.persistent,d=d.session,e;b.showsInterval&&"session"===b.showsInterval&&(e={lastShown:c,displayedCount:a(d)});c={lastShown:c,wasDismissed:f&&f.wasDismissed||!1,displayedCount:a(f)};g.setWidgetData(c,e)}}function l(){var a=g.getWidgetData(),b=a.persistent;g.setWidgetData({lastShown:b&&b.lastShown,wasDismissed:!0,displayedCount:b&&b.displayedCount},a.session)}function f(){function a(){var b=f.lastShown&&f.lastShown.getTime();if(!I(h)){if("session"===
h)return!d.session;if("campaign"===h)return!d.persistent;var e=new Date,g=e.getMonth(),e=e.getFullYear();if(g={hour:36E5,day:864E5,week:6048E5,month:864E5*(new Date(e,g,0)).getDate()}[h])return c-b>g}}var b=g.options.showFrequency;if(!(!0!==b.always&&b.showsInterval||b.neverAfterDismiss))return!0;var c=new Date,d=g.getWidgetData(),f=d.persistent,e=d.session;if(f&&!0===b.neverAfterDismiss&&!0===f.wasDismissed)return!1;if(!0===b.always||!b.showsInterval)return!0;var h=K(b.showsInterval.toLowerCase()),
b=b.showsCount;if(!I(h)&&b&&R(b)){if("session"===h&&!d.session||!d.persistent)return!0;var l=a();return"session"===h?e.displayedCount<b:f.displayedCount<b||l}}var b=k("CGApi"),c=k("Engine").events,d=k("Dom"),p=k("DomPlain"),g=this,q=!1,L=[],x=[];g.target=document.body;g.selectors={guidAttr:"data-vcb-me-guid",wrapper:"vcb-me-wrapper",overlay:"vcb-me-overlay",contentWrapper:"vcb-me-content-wrapper",content:"vcb-me-content",contentInner:"vcb-me-content-inner",dismiss:"vcb-me-dismiss",pointer:"vcb-me-pointer"};
g.type="BaseWidget";g.wrapper=null;g.contentWrapper=null;g.content=null;g.setWidgetData=function(a,c){var d=g.options.guid;a&&b.setData(d+"persistData",JSON.stringify(a),365);c&&b.setData(d+"sessionData",JSON.stringify(c),0)};g.getWidgetData=function(){var a=g.options.guid,c={persistent:void 0,session:void 0};if(!I(a)){var d=b.getData(a+"sessionData"),a=b.getData(a+"persistData");I(a)||(c.persistent=JSON.parse(a),c.persistent.lastShown=new Date(c.persistent.lastShown));I(d)||(c.session=JSON.parse(d),
c.session.lastShown=new Date(c.session.lastShown))}return c};g.clearWidgetData=function(){var a=g.options.guid;I(a)||(b.clearData(a+"persistData"),b.clearData(a+"sessionData"))};g.validateOptions=function(a){var b=[];a.appearance.name||b.push("Can't create widget! Name parameter required!");a.guid||b.push("Can't create widget! Guid parameter required!");a.content||b.push("Can't create widget! Content is required!");if(b.length)throw Error(b.join("\n"));};g.addClassesAndIdContentElements=function(){for(var a=
g.getContentWrapper(),b=g.options,a=a.firstChild;null!==a&&1!==a.nodeType;)a=a.nextSibling;var c;if(a){a.id||(a.id=b.guid);p.addClass(a,g.selectors.content);if(!I(b.closeEvent.dismissElements))for(c=p.getElements(b.closeEvent.dismissElements,a),b=0;b<c.length;b++)p.addClass(c[b],g.selectors.dismiss);for(b=a.lastChild;null!==b&&1!==b.nodeType;)b=b.previousSibling;!b||c&&~W(c,b)||p.addClass(b,g.selectors.contentInner)}};g.getWrapper=function(){if(e(g.wrapper,g.target))return g.wrapper;var a=p.getElements("["+
g.selectors.guidAttr+'="'+g.options.guid+'"]',g.target)[0];if(a)return a};g.wrapperFor=function(a){return function(){if(!e(g[a],g.target)){var b=g.getWrapper();g[a]=p.getElements("."+g.selectors[a],b)[0]}return g[a]}};g.getContentWrapper=g.wrapperFor("contentWrapper");g.getContent=g.wrapperFor("content");g.bindWidgetShowEvents=function(){var a=function(){f()&&g.show()},b=g.options.displayEvent,d;!0===b.onPageLoad&&c.domReady(a);if(!I(b.initAttachedTo)){var e=p.getElements(b.initAttachedTo);for(d=
0;d<e.length;d++)!0===b.onClick&&p.addEvent(e[d],"click",a),!0===b.onMouseOver&&p.addEvent(e[d],"mouseover",a),!0===b.onMouseOut&&p.addEvent(e[d],"mouseout",a)}if(b.delay){var h=1E3*parseInt(b.delay,10);if(b.startAfterIdle){var l;p.addEvent(document,"ontouchstart"in window?"touchmove":"mousemove",function(){window.clearTimeout(l);l=window.setTimeout(a,h)})}else window.setTimeout(a,h)}b.onLosePageFocus&&(p.addEvent(window,"blur",a),p.addEvent(window,"pagehide",a));b.onViewportMouseOut&&p.addEvent(document,
"mouseout",function(a){(a=a.relatedTarget||a.toElement)&&"html"!==a.nodeName.toLowerCase()||f()&&g.show()});if(!I(b.onCustomEvent))c.on(b.onCustomEvent,a)};g.bindDismissEvents=function(){var a=g.getWrapper(),b=g.options.closeEvent;if(b.onDismissButton&&!I(b.dismissElements))for(a=p.getElements(b.dismissElements,a),b=0;b<a.length;b++)p.addEvent(a[b],"click",g.dismiss)};g.bindCloseEvents=function(){function a(c){var d=p.getElements(g.options.displayEvent.initAttachedTo||""),f=g.getWrapper(),f=p.getElements("*:not(."+
g.selectors.overlay+")",f);if(~W(d,c.target)||~W(f,c.target))return!1;b()}var b=g.hide;g.options.closeEvent.onClickOutside&&(p.addEvent(document,"click",a),p.addEvent(window,"keydown",function(a){27===(G(a.which)?a.keyCode:a.which)&&b()}))};g.show=function(){var a=g.getWrapper();p.show(a);for(a=0;a<L.length;a++)L[a].call(null);q=!0};g.hide=function(){var a=g.getWrapper();d.hide(a);q=!1};g.dismiss=function(){g.hide();for(var a=0;a<x.length;a++)x[a].call(null)};g.destroy=function(){var a=g.getWrapper();
a&&a.parentNode&&a.parentNode.removeChild(a)};g.getOptions=function(){return g.options};g.isShown=function(){return q};g.subscribeFunctionOnImgsLoads=function(a){for(var b=p.getElements("img"),c=0;c<b.length;c++)p.addEvent(b[c],"load",a)};g.init=function(){g.options=g.mergeWithDefaultWidgetOptions(a);g.validateOptions(g.options);x.push(l);L.push(h);g.createWidgetDom();g.bindWidgetShowEvents()}});a.exports=e},Lightbox:function(a,e,k){a.config={singleton:!1};e=e("BaseWidget").extend(function(){function a(){var c=
b.getOverlay(),e=b.options.appearance,g={display:"block",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%"};e.fadeEnabled?(g["background-color"]=e.fadeColor,g.opacity=parseFloat(e.opacity)):g.opacity=0;f.updateElementStyle(c,N(g))}function e(){var a=b.getContentWrapper(),c=b.options.appearance,g={};g["background-color"]=c.backgroundColor;g.position="fixed";c.autofit?(g.display="inline-block",g.width="auto",g.height="auto"):(g.width=c.width,g.height=c.height);f.updateElementStyle(a,
N(g))}function h(){var a=b.getContentWrapper();f.updateElementStyle(a,N({top:0,left:0}));var c={},e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,h=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,l=parseInt(f.getStyle(a,"width"),10),m=parseInt(f.getStyle(a,"height"),10),k=(h<m?h-30:m)/2;c.position=h<m+k-60?"absolute":"fixed";c.top="50%";c.left="50%";c["margin-top"]=-1*k+"px";c["margin-left"]=(e<l?e:l)/2*-1+"px";f.updateElementStyle(a,
N(c))}var l=k("Dom"),f=k("DomPlain"),b=this,c=b.base;b.type="Lightbox";b.widgetOverlay=null;b.getOverlay=b.wrapperFor("overlay");b.mergeWithDefaultWidgetOptions=function(a){return T({appearance:{backgroundColor:"#FFFFFF",fadeEnabled:!0,fadeColor:"#000000",opacity:.8,autofit:!0},displayEvent:{},closeEvent:{onDismissButton:!0,onClickOutside:!0},showFrequency:{always:!0,neverAfterDismiss:!0}},a)};b.show=function(){a();e();h();b.subscribeFunctionOnImgsLoads(h);c.show()};b.createWidgetDom=function(){b.wrapper=
document.createElement("div");b.wrapper.setAttribute(b.selectors.guidAttr,b.options.guid);f.addClass(b.wrapper,b.selectors.wrapper);l.hide(b.wrapper);b.target.appendChild(b.wrapper);b.widgetOverlay=document.createElement("div");f.addClass(b.widgetOverlay,b.selectors.overlay);b.wrapper.appendChild(b.widgetOverlay);a();l.bringToFront(b.widgetOverlay);b.contentWrapper=document.createElement("div");f.addClass(b.contentWrapper,b.selectors.contentWrapper);b.wrapper.appendChild(b.contentWrapper);b.contentWrapper.innerHTML=
b.options.content;b.addClassesAndIdContentElements();e();l.bringToFront(b.contentWrapper);b.bindCloseEvents();b.bindDismissEvents()};b.init()});a.exports=e},Notification:function(a,e,k){a.config={singleton:!1};e=e("BaseWidget").extend(function(){var a=k("Dom"),e=k("DomPlain"),h=this,l=h.base;h.type="Notification";h.mergeWithDefaultWidgetOptions=function(a){return T({appearance:{backgroundColor:"#FFFFFF"},displayEvent:{},closeEvent:{onDismissButton:!0},showFrequency:{always:!0}},a)};h.createWidgetDom=
function(){h.wrapper=document.createElement("div");h.wrapper.setAttribute(h.selectors.guidAttr,h.options.guid);e.addClass(h.wrapper,h.selectors.wrapper);a.hide(h.wrapper);h.target.appendChild(h.wrapper);h.contentWrapper=document.createElement("div");e.addClass(h.contentWrapper,h.selectors.contentWrapper);h.contentWrapper.innerHTML=h.options.content;h.wrapper.appendChild(h.contentWrapper);h.addClassesAndIdContentElements();h.bindCloseEvents();h.bindDismissEvents()};h.show=function(){var a=h.getWrapper(),
b,c=h.options.appearance;I(c.insertWithin)?I(c.insertAbove)?I(c.insertBelow)||(b=e.getElements(c.insertBelow)[0])&&b.parentElement.insertBefore(a,b.nextSibling):(b=e.getElements(c.insertAbove)[0])&&b.parentElement.insertBefore(a,b):(b=e.getElements(c.insertWithin)[0])&&b.appendChild(a);if(b){a=h.getContentWrapper();b=h.getContent();var c=h.options.appearance,d={},m={};m["background-color"]=c.backgroundColor;c.autofit?(d.display="inline-block",d.width="auto",d.height="auto"):(d.width=c.width,d.height=
c.height,d["margin-left"]="auto",d["margin-right"]="auto",m.width="100%",m.height="100%");e.updateElementStyle(b,N(m));e.updateElementStyle(a,N(d));l.show()}};h.hide=function(){var a=h.getWrapper();h.target.appendChild(a);l.hide()};h.init()});a.exports=e},Callout:function(a,e,k){a.config={singleton:!1};e=e("BaseWidget").extend(function(){function a(b){return"top"===b}function e(a){return"bottom"===a}function h(a){return"left"===a}function l(a){return"right"===a}function f(a){return"center"===a}function b(a){a=
a.getBoundingClientRect();var b=G(window.pageXOffset)?document.documentElement.scrollLeft:window.pageXOffset,c=G(window.pageYOffset)?document.documentElement.scrollTop:window.pageYOffset,d=a.top+c,e=a.left+b,c=a.bottom+c,b=a.right+b;return{top:d,left:e,bottom:c,right:b,width:a.width||b-e,height:a.height||c-d}}function c(a){var b=(a||"").split(" ");a=K(b[0]||"left").toLowerCase();b=K(b[1]||"top").toLowerCase();return{side:a,part:b}}function d(a){var b=(a||"").split(" ");a=parseInt(b[0]||0,10);b=parseInt(b[1]||
0,10);return{side:a,part:b}}function p(g,k,n,p){function q(){h(y.part)?u.left=w.part:f(y.part)?u.left=v.width/2-S/2+w.part:l(y.part)&&(u.left=v.width-S-w.part)}function t(){a(y.part)?u.top=w.part:f(y.part)?u.top=v.height/2-E/2+w.part:e(y.part)&&(u.top=v.height-E-w.part)}var u={},y=c(n),w=d(p),v={};if("page"===k||"viewport"===k)v.top=v.right=v.bottom=v.left=0,"page"===k?(n=b(document.body),v.width=n.width,v.height=n.height):(v.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,
v.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight);if(g=x.getElements(g)[0]){g=b(g);var S=g.width,E=g.height;h(y.side)?(t(),u.left=w.side):l(y.side)?(t(),u.left=v.width-S-w.side):e(y.side)?(q(),u.top=v.height-E-w.side):a(y.side)?(q(),u.top=w.side):f(y.side)&&f(y.part)&&(u.left=v.width/2-S/2+w.side,u.top=v.height/2-E/2+w.part);u.position="viewport"===k?"fixed":"absolute";return u}}function g(g,k,n,p){function q(){a(y.part)?u.top=v.top-w.part:f(y.part)?u.top=
v.top+v.height/2-E/2+w.part:e(y.part)&&(u.top=v.bottom-E+w.part)}function t(){h(y.part)?u.left=v.left-w.part:f(y.part)?u.left=v.left+v.width/2-S/2+w.part:l(y.part)&&(u.left=v.right-S+w.part)}var u={},y=c(n),w=d(p),v={};if(k){k=x.getElements(k)[0];if(!k)return;v=b(k)}if(g=x.getElements(g)[0]){k=b(g);var S=k.width,E=k.height;g=g.offsetParent||document.body;k=x.getStyle(g,"position");if("relative"===k||"absolute"===k||"fixed"===k)g=b(g),v.top-=g.top,v.left-=g.left,v.right=v.left+v.width,v.bottom=v.top+
v.height;h(y.side)?(q(),u.left=v.left-S-w.side):l(y.side)?(q(),u.left=v.right+w.side):a(y.side)?(t(),u.top=v.top-E-w.side):e(y.side)?(t(),u.top=v.bottom+w.side):f(y.side)&&f(y.part)&&(u.left=v.left+v.width/2-S/2+w.part,u.top=v.top+v.height/2-E/2+w.part);u.position="absolute";return u}}function q(){function d(a,b){b=b||"px";var c=["z-index"],e={},f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];R(g)&&0!==g&&!~W(c,f)&&(g+=b);e[f]=g}return e}function k(a){return{top:"bottom",bottom:"top",left:"right",
right:"left"}[a]}function t(a,b){x.updateElementStyle(a,N(b));x.updateElementStyle(a.children[0],N({width:0,height:0}))}function X(d,g,r,n){function p(b){var c,g="side"===b?"part":"side";a(B[b])||e(B[b])?c=0>d.top&&D.bottom+t.height<q.height||d.top+t.height>q.height&&0<D.top-t.height?k(B[b]):B[b]:l(B[b])||h(B[b])?c=0>d.left&&D.right+t.width<q.width||d.left+t.width>q.width&&0<D.left-t.width?k(B[b]):B[b]:f(B[b])&&(c=a(B[g])||e(B[g])?0>d.left?"right":d.left+t.width>q.width?"left":B[b]:h(B[g])||l(B[g])?
0>d.top?"top":d.top+t.height>q.height?"bottom":B[b]:B[b]);return c}var q={width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},u=G(window.pageXOffset)?document.documentElement.scrollLeft:window.pageXOffset,v=G(window.pageYOffset)?document.documentElement.scrollTop:window.pageYOffset,t=T({},b(r));r=x.getElements(n)[0];var D=b(r),B=c(g);d=T({},d);d.top-=v;d.left-=u;t.top-=
v;t.left-=u;t.bottom-=v;t.right-=u;g=p("side");u=p("part");return g+" "+u}var D=n.getContentWrapper(),C=n.options.appearance,u=n.options.appearance.position,y,w=u.at;y={};x.updateElementStyle(D,N({top:0,left:0}));if("page"===u.relativeTo||"viewport"===u.relativeTo)y=p(D,u.relativeTo,w,u.offset),y=d(y);else if(!I(u.relativeTo)){y=g(D,u.relativeTo,w,u.offset);if(u.viewportDetection){var v=X(y,w,D,u.relativeTo);v!==w&&(w=v,y=g(D,u.relativeTo,w,u.offset))}y=d(y)}x.updateElementStyle(D,N(y));(function(f,
E,p){function q(b){b=a(b)||e(b)?"width":h(b)||l(b)?"height":void 0;b=Math.ceil(3*Math.log(V[b]));return 7>b?7:b}function u(a){var b=A+"px solid "+C.backgroundColor,c=A+"px solid transparent";return T(R,{top:{"border-bottom":b,"border-left":c,"border-right":c},bottom:{"border-top":b,"border-left":c,"border-right":c},right:{"border-top":c,"border-bottom":c,"border-left":b},left:{"border-top":c,"border-bottom":c,"border-right":b}}[a])}function v(a,b){var c=a;b&&2*a>b&&(c=b-a,c=0>c?0:c);return c}var w=
n.getContent(),y=n.getPointer(),X=y&&y.children[0],A,G,I=!1,H=1,K=1,M=0,O=0,Q="0 ",P={},R={width:0,height:0,"border-top":"none","border-bottom":"none","border-left":"none","border-right":"none"};if(E){var U=c(f),V=b(D);G=U.part;"page"===p||"viewport"===p?(F(E)?(p=c(E),f=p.side,G=p.part,I=f!==U.side&&f!==U.part):(f=U.side,E=f+" "+G),K=-1):(f=k(U.side),E=f+" "+G,H=-1,p=x.getElements(p)[0],P=b(p));A=q(f);p=u(f);x.updateElementStyle(y,N(p));p=b(y);U=a(G)||e(G)?v(p.height,P.height):0;P=h(G)||l(G)?v(p.width,
P.width):0;a(f)?(O=p.height,Q+=-P):e(f)?(O=p.height*K*H,Q+=-P):h(f)?(M=p.width,Q+=-U):l(f)&&(M=p.width*K*H,Q+=-U);I||L.freeMove(D,M,O);E=d(g(y,w,E,Q));x.updateElementStyle(y,N(E));X&&(y=X.children[0],E=Math.sqrt(2*Math.pow(A,2)),w={margin:0,padding:0,"box-shadow":x.getStyle(w,"box-shadow"),transform:"rotate(45deg)",position:"absolute","z-index":-1,width:E,height:E},H={position:"absolute",overflow:"hidden",top:-A,left:-A,width:2*p.width,height:2*p.height},M=A-E/2+p.width/2,O=-A-p.width/2,Q=A-E/2+p.height/
2,p=-A-p.height/2,a(f)?(w.top=2*A-E/2,w.left=M,H.left=O):e(f)?(w.top=-E/2,w.left=M,H.left=O):h(f)?(w.top=Q,w.left=2*A-E/2,H.top=p):l(f)&&(w.top=Q,w.left=-E/2,H.top=p),x.updateElementStyle(X,N(d(H))),x.updateElementStyle(y,N(d(w))))}else t(y,R)})(w,u.pointer,u.relativeTo)}var L=k("Dom"),x=k("DomPlain"),n=this,C=n.base;n.type="Callout";n.pointer=null;n.mergeWithDefaultWidgetOptions=function(a){return T({appearance:{backgroundColor:"#FFFFFF",autofit:!0,position:{at:"top left",relativeTo:"viewport"}},
displayEvent:{},closeEvent:{onDismissButton:!0},showFrequency:{always:!0}},a)};n.getPointer=n.wrapperFor("pointer");n.createWidgetDom=function(){n.wrapper=document.createElement("div");n.wrapper.setAttribute(n.selectors.guidAttr,n.options.guid);x.addClass(n.wrapper,n.selectors.wrapper);L.hide(n.wrapper);n.target.appendChild(n.wrapper);n.contentWrapper=document.createElement("div");x.addClass(n.contentWrapper,n.selectors.contentWrapper);n.contentWrapper.innerHTML=n.options.content;n.wrapper.appendChild(n.contentWrapper);
L.bringToFront(n.contentWrapper);n.addClassesAndIdContentElements();n.pointer=document.createElement("span");x.addClass(n.pointer,n.selectors.pointer);x.updateElementStyle(n.pointer,N({width:0,height:0,margin:0,padding:0,display:"inline-block"}));n.contentWrapper.appendChild(n.pointer);var a=document.createElement("div");n.pointerShadow=document.createElement("div");n.pointerShadow.appendChild(a);n.pointer.appendChild(n.pointerShadow);n.bindCloseEvents();n.bindDismissEvents()};n.show=function(){var a=
n.getContentWrapper(),b=n.getContent(),c=n.options.appearance,d={},f={};f["background-color"]=c.backgroundColor;c.autofit?(d.display="inline-block",d.width="auto",d.height="auto"):(d.width=c.width,d.height=c.height,f.width="100%",f.height="100%");f=T(d,f);x.updateElementStyle(b,N(f));x.updateElementStyle(a,N(d));q();n.subscribeFunctionOnImgsLoads(q);C.show()};n.init()});a.exports=e},Widgets:function(a,e,k){a.config={singleton:!0};e=e("Class").extend(function(){var a=this;this.createLightbox=function(a,
e){a.guid=e;k("Lightbox",a)};this.createNotification=function(a,e){a.guid=e;k("Notification",a)};this.createCallout=function(a,e){a.guid=e;k("Callout",a)};this.getWrapper=function(){return A(a,"createLightbox","createCallout","createNotification")}});a.exports=e},Dlp:function(a,e,k){a.config={singleton:!0};var m=e("Class").extend(function(a){function h(a){if(a.origin===x){a=a.data;var b;try{b=JSON.parse(a)}catch(c){q.log("Can not parse message,\nbecause of: "+c.message+"\nerror with object:",a)}if(b)if(b.request)try{b.command&&
C[b.command](b)}catch(d){q.log('Can not execute "'+b.command+'" request command,\nbecause error occurred: '+d.message)}else if(b.error&&q.log(b.error),a=t[b.hash]){try{b.error?a.reject({error:b.error,data:b.data}):a.resolve(b.data)}catch(f){q.log(f)}delete t[b.hash]}}}function l(a,b){return{hash:ba(),command:a,data:b}}function f(a){try{window.parent.postMessage(JSON.stringify(a),x)}catch(b){q.log("Can not send event through post message,\nbecause of: "+b.message+"\nerror with object:",a);var c=t[a.hash];
c&&(c.reject({error:b,data:void 0}),delete t[a.hash])}}function b(a){var b=new m;t[a.hash]=b;f(a);return b.promise()}function c(a,b,c){return function(){for(var d={},f=0;f<c.length;f++)d[c[f]]=arguments[f];return a(l(b,d))}}var d=this,m=e("Deferred"),g=k("Action"),t={},L=new m,x=a.dlpOrigin,n={},C={console:function(a){a=a.data;q[a.method](a.message)},raiseEvent:function(a){n[a.data.handlerHash]()},"Action.sendActions":function(a){a=a.data.args;var b=a[2];a[2]=function(){f(l("runCallback",{handler:b}))};
g.sendActions.apply(g,a)}};this.parentReady=function(a){L.done(ia(a));return"resolved"===L.state()};this.proxy=function(a,c,d){return function(){var e={args:M(arguments),promised:d};return(d?b:f)(l(a+"."+c,e))}};this.trackClicks=function(a,b,c,d){f(l("Dom.trackClicks",{args:[a,b,c]}))};this.addListener=function(a,b,c){a=l("Dom.addListener",{selector:a,eventName:b});var d,e;for(e in n)if(n.hasOwnProperty(e)&&n[e]===c){d=e;break}e=a.data;d?e.handlerHash=d:(e.handlerHash=ba(),n[e.handlerHash]=c);f(a)};
this.removeListener=function(a,b,c){a=l("Dom.removeListener",{selector:a,eventName:b});for(var d in n)if(n.hasOwnProperty(d)&&n[d]===c){a.data.handlerHash=d;f(a);break}};this.checkNodeExist=c(b,"checkNodeExist",["selector"]);this.navigateTo=c(f,"navigateTo",["url"]);addEventListener?addEventListener("message",h,!1):attachEvent("onmessage",h);L=b(l("parentReady"));this.isDlpEnabled=function(){return!0};this.getWrapper=function(){return A(d,"isDlpEnabled")}});a.basic=function(){var a=this;this.getWrapper=
function(){return A(a,"isDlpEnabled")};this.isDlpEnabled=function(){return!1}};a.dlp=m},Modules:function(a,e,k){var m=e("Class");k=m.extend(function(){var a=this,h={cgapi:{},campaign:{alias:"Campaign",args:["campaignData"]},site:{alias:"Site"},renderer:{alias:"Renderer",args:["campaign"]},element:{},html:{},css:{},Deferred:{},when:{},events:{alias:"Events"},actions:{alias:"Action"},visitor:{alias:"Visitor"},modules:{alias:"Modules"},dom:{alias:"Dom"},cookies:{alias:"Cookies"},style:{alias:"Style"},
recommendations:{}},k=[],f=[],b={};this.define=function(a,b,h){if(!a||"string"!==typeof a)return q.log("Invalid module alias ( "+a+" )."),this;if(k[a])return k[a].reserved?q.log("Reserved name can not be used ( "+a+" )."):q.log("Module with this alias already defined  ( "+a+" )."),this;"function"===typeof b?(h=b,b={}):"string"===typeof b?b={extend:b}:b&&"object"===typeof b||(b={});"undefined"===typeof b.singleton&&(b.singleton=!0);"undefined"===typeof b.autoDefine&&(b.autoDefine=!0);if("undefined"!==
typeof b.extend&&("string"!==typeof b.extend||!b.extend))return q.log("Invalid parent alias ( "+b.extend+" )"),this;if(b.extend&&(!k[b.extend]||k[b.extend].reserved&&!k[b.extend].standard))return q.log("Parent module is not defined ( "+b.extend+" )"),this;if(!h||"function"!==typeof h)return q.log("Invalid module function ( "+a+" )."),this;var g;if(b.extend){var t=k[b.extend],z;t.reserved&&t.standard?(z=e(t.standard),"undefined"===typeof z.extend&&(z=m.extend(z)),g=t.args):z=t.func;h=z.extend(h)}else h=
m.extend(h);k[a]={func:h,extend:b.extend,extendArgs:g,reserved:!1,singleton:b.singleton,autoDefine:b.autoDefine};!0===b.autoDefine&&f.push(a);return this};this.require=function(a){if(a&&"string"===typeof a){var d=k[a];if(d&&!0!==d.reserved){a=d.instance;if(!a||!d.singleton)if(d.extendArgs){var f=[],e;for(e in d.extendArgs)d.extendArgs.hasOwnProperty(e)&&f.push(b[d.extendArgs[e]]);var h=function(){h.prototype=d.func.prototype;return d.func.apply(this,f)};a=new h}else a=new d.func;if(d.singleton){d.instance=
a;e={};var m=a,x;for(x in m)m.hasOwnProperty(x)&&(e[x]="function"===typeof m[x]?function(a){return function(){return m[a].apply(m,arguments)}}(x):m[x]);a=e}return a}q.log("Module is not registered ( "+a+" ).")}else q.log("Invalid module alias ( "+a+" ).")};this.getWrapper=function(c){c&&(b=c);return A(a,"define","require")};this.mergeInstances=function(b){b=b||{};for(var d in f)if(f.hasOwnProperty(d)){var e=f[d];b[e]||(b[e]=a.require(e))}return b};(function(){for(var a in h)if(h.hasOwnProperty(a)){var b=
h[a];k[a]=b&&b.alias?{reserved:!0,standard:b.alias,args:b.args}:{reserved:!0}}}).call(a)});a.exports=k},Vcb:function(a,e,k){a.config={singleton:!0};e=e("Class").extend(function(a){var e=this;a=(a=a.vcbParams)||{isVcbActive:!1,maxZindex:12E5,registerLoop:function(){},useZindex:function(){return!0},registerClickAction:function(){return null}};O(a,function(a,k){e[k]=a})});a.exports=e},Recommendations:function(a,e,k){a.config={singleton:!1};var m=e("Class").extend(function(a){var h=this,l=k("CGApi"),
f=e("Deferred");this.setCategoryFilter=function(a,c,f){l.setCategoryFilter(a,c,f);return this};this.setProductFilter=function(a,c,f){l.setProductFilter(a,c,f);return this};this.requestPage=function(a){var c=f();l.request(a,function(a){a?c.resolve():c.reject()});return c.promise()};this.getProducts=function(){return a};this.getWrapper=function(){return A(h,"setCategoryFilter","setProductFilter","requestPage","getProducts")}});a.exports=m}};mmInitCallback(function(a,e,k){new function(a,e,h,k){function f(){var a=
location.search;if(window.parent!==window.self&&-1!==a.indexOf("original-url")&&(a=a.replace(/^\?/,"").split("&"),a=Z(a,function(a){return 0===a.indexOf("original-url")}))){var b,c;try{b=decodeURIComponent(a).split("=").slice(1).join("="),c=/http(s)?:\/\/.*?([^/]|$)+/.exec(b)[0]}catch(f){return}return c}}function b(a,b,c){function f(a){a.apply({},d)}c=c.replace(/[^a-z0-9_]*/gi,"");b=w.mergeInstances(b);var e=[],d=[];H(k.scriptArgumentsWrapper)&&(b=k.scriptArgumentsWrapper(b));for(var g in b)b.hasOwnProperty(g)&&
(e.push(g),d.push(b[g]));a="var applier = arguments[2];var scriptName = arguments[1];function "+c+"(){\nfunction inner_"+c+"("+e.join(",")+"){\n"+a+"\n}try {\n applier(inner_"+c+");\n} catch (e) {\ne.message = 'Error in '+scriptName+': ' + e.message;\nconsole.error(e);\n};};\n"+c+"();//# sourceURL="+c+".js";try{la.apply({},[a,c,f])}catch(h){h.message="Error in "+c+": "+h.message,q.error(h)}}function c(a){return"1.9"===a.HighLevelApiVersion}function d(a){a=B.require("Renderer",a);a.constructor=void 0;
return a}function p(a){var b=x();b.modules=w.getWrapper(a);b.campaign=a.campaign.getContext();b.renderer=d(a.campaign);return b}function g(a){if(a=u[a])return a=p({campaign:a}),a=w.mergeInstances(a)}function t(){var a=A();return a=w.mergeInstances(a)}function A(){var a=x();a.modules=w.getWrapper({});return a}function x(){return{site:y.getContext(),Deferred:B.requireClass("Deferred"),when:B.requireClass("When"),events:C.events.getWrapper(),actions:B.require("Action").getWrapper(),visitor:B.require("Visitor").getWrapper(),
dom:B.require("Dom").getWrapper(),widgets:B.require("Widgets").getWrapper(),dlp:B.require("Dlp").getWrapper(),cookies:B.require("Cookies").getWrapper(),recommendations:B.require("Recommendations",K).getWrapper()}}function n(f){v||(y=B.require("Site"),w=B.require("Modules"),v=!0);if(!k.skipPersistentData)for(var e=f.PersistData||[],d=e.length;d--;)a.setParam(e[d].Name,e[d].Value,a.baseStorage.storeStrategy.persistent,e[d].Expiration);var d,e=[],h=Y(f.Campaigns||[],c),n=Y(f.Scripts||[],c),q=B.requireClass("Campaign");
for(d=0;d<n.length;d++)e.push({script:n[d]});for(d=0;d<h.length;d++){n=h[d].Name;u[n]?u[n].updateData(h[d]):u[n]=new q(h[d]);K[n]=u[n].getRecommendations();for(var r=0;r<h[d].Scripts.length;r++)e.push({script:h[d].Scripts[r],campaign:u[n],campaignData:h[d]})}y.setPageExperiences(f.GenInfo||{});J=f.ServerAttributes;e.sort(function(a,b){return a.script.Order-b.script.Order});for(d=0;d<e.length;d++)f=e[d].script.Data,h=e[d].script.Name,(q=e[d].campaign)?(n=e[d].campaignData,b(f,p(e[d],{campaignData:n,
campaign:q}),n.Name+"_"+h)):b(f,A(),"Site_"+h);k.debug&&(k.debug["1.9"]={context:{getSiteScriptArguments:t,getCampaignScriptArguments:g}})}k=k||{};var C=this,r=[1,0];if(a.version.split(".")[0]!=r[0]||a.version.split(".")[1]<r[1])q.log("Loader have non compatible version with High level API.");else{var J={},r=f(),B=new ka({Engine:C},h,{isDlpEnabled:!G(r),dlpOrigin:r,vcbParams:k.vcbParams,cookieDomain:a.calcCookieDomain||a.cookie_domain||window.location.hostname.replace(/^www\./i,""),isBaseStorageSecure:a.baseStorage.isSecure,
moduleExtensions:k.moduleExtensions});B.addModule("BaseStorage",function(b){b.config={singleton:!1};b.exports=function(b){return a.baseStorage(b.namespace)}});B.addModule("Engine",function(a){a.config={singleton:!0}});var I=B.require("BaseStorage",{namespace:"mmengine"}),D={persistent:0,deferredRequest:1,request:2,page:3};this.storeStrategy=D;var F=[];F[D.page]={};F[D.request]={};var u={},y,w,v,K={};this.setParam=function(b,c,d,e){if(k.useLoaderStorage)a.setParam(b,c,d,e);else switch(d){case D.persistent:case D.deferredRequest:a.setParam(b,
c,d);break;case D.request:case D.page:F[d][b]=c;break;default:q.log("Unknown store strategy: "+d)}};this.getParam=function(b,c){if(k.useLoaderStorage)return a.getParam(b,c);switch(c){case D.persistent:case D.deferredRequest:return a.getParam(b,c);case D.request:case D.page:return F[c][b];default:q.log("Unknown store strategy: "+c)}};this.setData=function(a,b,c){I.set(a,b,c)};this.getData=function(a){return I.get(a)};this.clearData=function(a){I.set(a,null,-1)};this.getServerAttrs=function(){return J};
this.CGRequest=function(b){var c;k.useLoaderStorage||(c=a.mergeParams(F[D.page],F[D.request]),F[D.request]={});a.CGRequest(function(a){H(b)&&b(a)},c)};this.runElementScript=function(a,c,e,f){c=a.getElement(c);var g=x();g.modules=w.getWrapper();g.campaign=a.getContext();g.renderer=d(a);g.element=c.clone();g.html=e.html;g.css=e.css;g.recommendations=B.require("Recommendations",a).getWrapper();b(f,g,a.getName()+"_"+c.Name+"_"+c.VariantName)};this.events=B.require("Events");k.skipResponseProcessing||
n(e);a.on("response",n)}}(a,e,ma,k)})})()})();
